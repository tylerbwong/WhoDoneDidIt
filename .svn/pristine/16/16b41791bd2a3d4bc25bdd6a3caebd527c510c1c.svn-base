package whodonedidit.gui;

import java.util.ArrayList;
import javax.swing.JLayeredPane;
import whodonedidit.version1_0.ActionCardType;

/**
 *
 * @author Tyler Wong
 */
public class SuggestionPanel extends javax.swing.JPanel
{
    private MainFrame frame;
    private JLayeredPane layerPane;
    private TablePanel tablePanel;
    private ArrayList<CardButton> cards;
    private ActionCardType suggestionType;
    private String currentDestination;

    /**
     * Creates new form SuggestionPanel
     */
    public SuggestionPanel(MainFrame frame, JLayeredPane layerPane, 
            ActionCardType suggestionType, String currentDestination)
    {
        this.frame = frame;
        this.layerPane = layerPane;
        this.suggestionType = suggestionType;
        this.currentDestination = currentDestination;
        initComponents();
        if (this.suggestionType != ActionCardType.SuggestFromCurrent)
        {
            this.orLabel.setVisible(false);
            this.swapLabel.setVisible(false);
            this.swapCombo.setVisible(false);
            this.swapButton.setVisible(false);
            this.revalidate();
            this.repaint();
        }
        else
        {
            this.placeCombo.setSelectedItem(this.currentDestination);
            this.placeCombo.setEnabled(false);
            this.revalidate();
            this.repaint();
        }
    }

    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents()
    {

        titleLabel = new javax.swing.JLabel();
        sentText1 = new javax.swing.JLabel();
        personCombo = new javax.swing.JComboBox();
        sentText3 = new javax.swing.JLabel();
        vehicleCombo = new javax.swing.JComboBox();
        sentText2 = new javax.swing.JLabel();
        placeCombo = new javax.swing.JComboBox();
        confirmButton = new javax.swing.JButton();
        cancelButton = new javax.swing.JButton();
        cancelButton1 = new javax.swing.JButton();
        orLabel = new javax.swing.JLabel();
        swapCombo = new javax.swing.JComboBox();
        swapLabel = new javax.swing.JLabel();
        swapButton = new javax.swing.JButton();

        setBackground(new java.awt.Color(255, 255, 255));
        setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0), 2));
        setMaximumSize(new java.awt.Dimension(600, 350));
        setPreferredSize(new java.awt.Dimension(600, 350));
        setSize(new java.awt.Dimension(600, 350));

        titleLabel.setBackground(new java.awt.Color(255, 255, 255));
        titleLabel.setFont(new java.awt.Font("Roboto", 0, 24)); // NOI18N
        titleLabel.setText("Make A Suggestion!");

        sentText1.setBackground(new java.awt.Color(255, 255, 255));
        sentText1.setFont(new java.awt.Font("Roboto", 0, 14)); // NOI18N
        sentText1.setText("I suggest");

        personCombo.setBackground(new java.awt.Color(255, 255, 255));
        personCombo.setFont(new java.awt.Font("Roboto", 0, 13)); // NOI18N
        personCombo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Aphrodite", "Ares", "Artemis", "Dionysus", "Hera", "Hermes" }));

        sentText3.setBackground(new java.awt.Color(255, 255, 255));
        sentText3.setFont(new java.awt.Font("Roboto", 0, 14)); // NOI18N
        sentText3.setText("in a");

        vehicleCombo.setBackground(new java.awt.Color(255, 255, 255));
        vehicleCombo.setFont(new java.awt.Font("Roboto", 0, 13)); // NOI18N
        vehicleCombo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Apollo's Chariot", "Athena's Horse", "Eros' Wings", "Hades' Dogs", "Hermes Sandals", "Poseidon's Ship" }));

        sentText2.setBackground(new java.awt.Color(255, 255, 255));
        sentText2.setFont(new java.awt.Font("Roboto", 0, 14)); // NOI18N
        sentText2.setText("going to");

        placeCombo.setBackground(new java.awt.Color(255, 255, 255));
        placeCombo.setFont(new java.awt.Font("Roboto", 0, 13)); // NOI18N
        placeCombo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Athena's Forest", "Athens", "Atlas' Sky", "Dionysus Vineyard", "Hades Underworld", "Hephaestus Volcano", "Mount Olympus", "Phoebe's Moon", "Poseidon Ocean" }));

        confirmButton.setBackground(new java.awt.Color(255, 255, 255));
        confirmButton.setFont(new java.awt.Font("Roboto", 0, 13)); // NOI18N
        confirmButton.setText("Suggest");
        confirmButton.addActionListener(new java.awt.event.ActionListener()
        {
            public void actionPerformed(java.awt.event.ActionEvent evt)
            {
                confirmButtonActionPerformed(evt);
            }
        });

        cancelButton.setBackground(new java.awt.Color(255, 255, 255));
        cancelButton.setFont(new java.awt.Font("Roboto", 0, 13)); // NOI18N
        cancelButton.setText("Cancel");
        cancelButton.addActionListener(new java.awt.event.ActionListener()
        {
            public void actionPerformed(java.awt.event.ActionEvent evt)
            {
                cancelButtonActionPerformed(evt);
            }
        });

        cancelButton1.setBackground(new java.awt.Color(255, 255, 255));
        cancelButton1.setFont(new java.awt.Font("Roboto", 0, 13)); // NOI18N
        cancelButton1.setText("X");
        cancelButton1.addActionListener(new java.awt.event.ActionListener()
        {
            public void actionPerformed(java.awt.event.ActionEvent evt)
            {
                cancelButton1ActionPerformed(evt);
            }
        });

        orLabel.setBackground(new java.awt.Color(255, 255, 255));
        orLabel.setFont(new java.awt.Font("Roboto", 0, 13)); // NOI18N
        orLabel.setText("OR");

        swapCombo.setBackground(new java.awt.Color(255, 255, 255));
        swapCombo.setFont(new java.awt.Font("Roboto", 0, 13)); // NOI18N
        swapCombo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Athena's Forest", "Athens", "Atlas Sky", "Dionysus Vineyard", "Hades Underworld", "Hephaestus Volcano", "Mount Olympus", "Phobe Moon", "Poseidon Ocean" }));

        swapLabel.setBackground(new java.awt.Color(255, 255, 255));
        swapLabel.setFont(new java.awt.Font("Roboto", 0, 13)); // NOI18N
        swapLabel.setText("Swap Destination Markers");

        swapButton.setBackground(new java.awt.Color(255, 255, 255));
        swapButton.setFont(new java.awt.Font("Roboto", 0, 13)); // NOI18N
        swapButton.setText("Swap");
        swapButton.addActionListener(new java.awt.event.ActionListener()
        {
            public void actionPerformed(java.awt.event.ActionEvent evt)
            {
                swapButtonActionPerformed(evt);
            }
        });

        org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(layout.createSequentialGroup()
                .add(191, 191, 191)
                .add(titleLabel)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .add(cancelButton1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 37, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
            .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
                    .add(org.jdesktop.layout.GroupLayout.LEADING, layout.createSequentialGroup()
                        .add(84, 84, 84)
                        .add(sentText1)
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(personCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(sentText3)
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(vehicleCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(sentText2))
                    .add(org.jdesktop.layout.GroupLayout.LEADING, layout.createSequentialGroup()
                        .add(285, 285, 285)
                        .add(orLabel))
                    .add(org.jdesktop.layout.GroupLayout.LEADING, layout.createSequentialGroup()
                        .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                            .add(layout.createSequentialGroup()
                                .add(90, 90, 90)
                                .add(cancelButton))
                            .add(layout.createSequentialGroup()
                                .add(208, 208, 208)
                                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
                                    .add(placeCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                                    .add(swapCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                                    .add(layout.createSequentialGroup()
                                        .add(swapLabel)
                                        .add(11, 11, 11)))))
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 60, Short.MAX_VALUE)
                        .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                            .add(confirmButton)
                            .add(layout.createSequentialGroup()
                                .add(6, 6, 6)
                                .add(swapButton)))))
                .add(63, 63, 63))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(layout.createSequentialGroup()
                .add(7, 7, 7)
                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
                    .add(titleLabel)
                    .add(cancelButton1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 37, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .add(45, 45, 45)
                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(sentText1)
                    .add(personCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(sentText3)
                    .add(vehicleCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(sentText2))
                .add(17, 17, 17)
                .add(placeCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .add(18, 18, 18)
                .add(orLabel)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(swapLabel)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
                        .add(swapCombo, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(24, 24, 24)
                        .add(cancelButton)
                        .add(43, 43, 43))
                    .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
                        .add(confirmButton)
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(swapButton)
                        .add(36, 36, 36))))
        );
    }// </editor-fold>//GEN-END:initComponents
    
    private void confirmButtonActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_confirmButtonActionPerformed
    {//GEN-HEADEREND:event_confirmButtonActionPerformed
        String person = String.valueOf(this.personCombo.getSelectedItem());
        String vehicle = String.valueOf(this.vehicleCombo.getSelectedItem());
        String place = String.valueOf(this.placeCombo.getSelectedItem());

        this.frame.getController().sendMakeSuggestionAction(this.suggestionType,
                person, vehicle, place);
        this.layerPane.remove(this.layerPane.getIndexOf(this));
        this.validate();
        this.layerPane.repaint();
        this.layerPane.validate();
    }//GEN-LAST:event_confirmButtonActionPerformed

    private void cancelButtonActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_cancelButtonActionPerformed
    {//GEN-HEADEREND:event_cancelButtonActionPerformed
        this.frame.enableActionCards();
        this.frame.getTable().enableActionCards();
        this.layerPane.remove(layerPane.getIndexOf(this));
        this.layerPane.repaint();
        this.layerPane.validate();
    }//GEN-LAST:event_cancelButtonActionPerformed

    private void cancelButton1ActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_cancelButton1ActionPerformed
    {//GEN-HEADEREND:event_cancelButton1ActionPerformed
        this.frame.enableActionCards();
        this.frame.getTable().enableActionCards();
        this.layerPane.remove(this.layerPane.getIndexOf(this));
        this.layerPane.repaint();
        this.layerPane.validate();
    }//GEN-LAST:event_cancelButton1ActionPerformed

    private void swapButtonActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_swapButtonActionPerformed
    {//GEN-HEADEREND:event_swapButtonActionPerformed
        String destination = String.valueOf(this.swapCombo.getSelectedItem());
        this.frame.getController().sendSwapDestinationMarkersAction(destination);
        this.frame.enableEndTurnButton();
        this.layerPane.remove(this.layerPane.getIndexOf(this));
        this.validate();
        this.layerPane.repaint();
        this.layerPane.validate();
    }//GEN-LAST:event_swapButtonActionPerformed

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton cancelButton;
    private javax.swing.JButton cancelButton1;
    private javax.swing.JButton confirmButton;
    private javax.swing.JLabel orLabel;
    private javax.swing.JComboBox personCombo;
    private javax.swing.JComboBox placeCombo;
    private javax.swing.JLabel sentText1;
    private javax.swing.JLabel sentText2;
    private javax.swing.JLabel sentText3;
    private javax.swing.JButton swapButton;
    private javax.swing.JComboBox swapCombo;
    private javax.swing.JLabel swapLabel;
    private javax.swing.JLabel titleLabel;
    private javax.swing.JComboBox vehicleCombo;
    // End of variables declaration//GEN-END:variables
}
